---
Title: Enterprise policy testing
Source: insert.sql
---
<div class="container" style="max-width:960px;background:#ffffff;padding:20px;"> <!-- Summary --> <p style="font-weight:600;font-size:1.25rem;">Summary</p> <p> In this governance exercise you will run the <strong>/policy</strong> slash command in GitHub&nbsp;Copilot&nbsp;Chat to generate a <code>.github/copilot-policy.yml</code> file that blocks model usage on files containing secrets. You will commit the policy file on a new branch and open a pull request for organisational review. Plan about fifteen minutes. </p> <!-- What you will learn --> <p style="font-weight:600;font-size:1.25rem;">What you will learn</p> <ul style="font-size:1.1rem;line-height:1.6;"> <li> <p>Invoking the <code>/policy</code> command in Copilot Chat.</p> </li> <li> <p>Configuring a policy to restrict AI suggestions on secret-related paths.</p> </li> <li> <p>Committing the policy file and opening a pull request for review.</p> </li> <li> <p>Understanding responsible AI controls in GitHub&nbsp;Copilot&nbsp;Enterprise.</p> </li> </ul> <!-- Before you start --> <p style="font-weight:600;font-size:1.25rem;">Before you start</p> <p> Copilot policy management requires <strong>GitHub&nbsp;Copilot&nbsp;Enterprise</strong>. Confirm you have write access to an organisation repository and that Copilot Chat is enabled in your IDE (VS&nbsp;Code JetBrains or Visual&nbsp;Studio). The Copilot policy management feature is available only with GitHub Copilot Enterprise.</p> <!-- Steps --> <p style="font-weight:600;font-size:1.25rem;">Steps</p> <ul style="font-size:1.1rem;line-height:1.6;"> <li> <p><strong>Step&nbsp;1.</strong> Create a branch named <code>copilot-policy-secrets</code> with <code>git checkout -b copilot-policy-secrets</code> or your IDE branch UI.</p> </li> <li> <p><strong>Step&nbsp;2.</strong> Open Copilot Chat in your IDE and type <code>/policy</code> then press Enter.</p> </li> <li> <p><strong>Step&nbsp;3.</strong> In the policy prompt choose to <em>Disallow model usage</em> on files matching patterns such as <code>**/*secrets*.yml</code> and <code>**/.env</code>. Accept the generated <code>.github/copilot-policy.yml</code>.</p> </li> <li> <p><strong>Step&nbsp;4.</strong> Review the YAML in the editor to ensure the <code>blocked_paths</code> section includes the desired globs.</p> </li> <li> <p><strong>Step&nbsp;5.</strong> Stage the file with <code>git add .github/copilot-policy.yml</code> then commit with a message such as <code>chore: add Copilot policy to block secrets files</code>. You may let Copilot draft the commit message.</p> </li> <li> <p><strong>Step&nbsp;6.</strong> Push the branch and open a pull request. Request at least one teammate to review the new policy.</p> </li> <li> <p><strong>Step&nbsp;7.</strong> Once approved merge the pull request to enforce the policy on the default branch.</p> </li> </ul> <!-- Checkpoint --> <p style="font-weight:600;font-size:1.25rem;">Checkpoint</p> <div style="margin-top:20px;"> <p>1.&nbsp;Did <code>.github/copilot-policy.yml</code> include blocked paths for secret files</p> <input type="radio" name="q1"> Yes&nbsp;&nbsp; <input type="radio" name="q1"> No </div> <div style="margin-top:20px;"> <p>2.&nbsp;Did you open a pull request for team review of the new policy</p> <input type="radio" name="q2"> Yes&nbsp;&nbsp; <input type="radio" name="q2"> No </div> <div style="margin-top:20px;"> <p>3.&nbsp;Was the branch merged so the policy is active on the default branch</p> <input type="radio" name="q3"> Yes&nbsp;&nbsp; <input type="radio" name="q3"> No </div> <!-- Explore more --> <p style="font-weight:600;font-size:1.25rem;">Want to explore more</p> <ul style="font-size:1.1rem;line-height:1.6;"> <li> <p><a href="https://docs.github.com/en/copilot/managing-copilot/managing-github-copilot-in-your-organization/managing-policies-for-copilot-in-your-organization" target="_blank">Organisation policies for Copilot</a></p> </li> <li> <p><a href="https://docs.github.com/en/actions/security-guides/security-hardening-for-github-actions#using-secrets-in-github-actions" target="_blank">Best practices for managing secrets in repos</a></p> </li> </ul> </div>
